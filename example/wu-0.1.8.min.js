(function(o,r){function w(a){a.bind=d.partial(d.bind,d.___,a);a.compose=d.curry(d.compose,a);a.curry=d.curry(d.curry,a);a.partial=d.curry(d.partial,a);a.zipWith=d.curry(d.zipWith,a);a.memoize=d.curry(d.memoize,a);return a}var x=o.wu,l=Array.prototype.slice,d=o.wu=function(a){return a instanceof Function?w(a):d.Iterator(a)};d.noConflict=function(){o.wu=x;return d};d.___={};var i=function(a,b){return a instanceof b},h=function(a){return Object.prototype.toString.call(a)},s=function(a){return i(a,d.Iterator)?
a:new d.Iterator(a)},g=function(a){return i(a,d.Iterator)?a.toArray():l.call(a)},m=function(a){return!!a},k=d.StopIteration=function(){};k.prototype=new Error;k.prototype.name="StopIteration";var t=function(a){var b,c,e,f,j;b=function(y){j=g(y);return function(){return j.length>0?j.shift():this.stop()}};switch(h(a)){case "[object Array]":return b(a);case "[object NodeList]":return b(a);case "[object Arguments]":return b(a);case "[object Object]":if(i(a,d.Iterator)){if(typeof a.next!=="function")throw new TypeError("wu.js: Iterator without a next method!");
}else if(a.length&&Number===a.length.constructor)return b(a);else{b=[];for(c in a)a.hasOwnProperty(c)&&b.push([c,a[c]]);return t(b)}case "[object String]":e=a.length;return function(){if(e>0){f=a.charAt(0);a=a.slice(1);e--;return f}this.stop()};case "[object Number]":return function(){return a--===0?this.stop():a};default:throw new TypeError("wu.js: Object is not iterable: "+a);}};d.Iterator=function(a){if(i(this,d.Iterator)===false)return new d.Iterator(a);this.next=h(a)==="[object Function]"?a:
t(a)};d.fn=d.Iterator.prototype=d.prototype;d.fn.all=function(a,b){return!this.any(a===r?d.not(m):d.not(a),b)};d.fn.any=function(a,b){a=a||m;try{this.filter(a,b).next();return true}catch(c){if(!i(c,k))throw c;}return false};d.fn.asyncEach=function(a,b,c){var e=this;c=c||this;setTimeout(function f(){try{a.call(c,e.next());setTimeout(f,20)}catch(j){if(!i(j,k))throw j;h(b)==="[object Function]"&&b.call(c)}},20)};d.fn.dot=function(a){var b=l.call(arguments,1);return this.map(function(c){return h(c[a])===
"[object Function]"?c[a].apply(c,b):c[a]})};d.fn.dropWhile=function(a,b){var c=true,e=this;b=b||this;return d.Iterator(function f(){var j=e.next();return c&&a.call(b,j)?f():function(){c=false;return j}()})};var u=function(a){return function(b,c){c=c||this;return this.map(function(e){b[a](c,e);return e}).force()}};d.fn.each=function(){return typeof Array.prototype.forEach==="function"?function(a,b){var c=this.toArray();c.forEach(a,b||this);return c}:u("call")}();d.fn.eachply=u("apply");d.fn.filter=
function(a,b){var c=this;b=b||this;return d.Iterator(function(){for(var e;;){e=c.next();if(m(a.call(b,e)))return e}})};d.fn.force=d.fn.toArray=function(){var a=[];try{for(;;)a.push(this.next())}catch(b){if(!i(b,k))throw b;}return a};d.fn.groupBy=function(a){return this.map(function(b){return[i(b[a],Function)?b[a].apply(b,l.call(arguments,1)):b[a],b]}).reduce(function(b,c){if(b[c[0]]===undefined)b[c[0]]=[c[1]];else b[c[0]].push(c[1]);return b},{})};d.fn.has=function(a){return this.any(d.eq(a))};var v=
function(a){return function(b,c){var e=this;c=c||this;return d.Iterator(function(){return b[a](c,e.next())})}};d.fn.map=v("call");d.fn.mapply=v("apply");d.fn.reduce=function(){return typeof Array.prototype.reduce==="function"?function(a,b,c){return b?this.toArray().reduce(d.bind(c||this,a),b):this.toArray().reduce(d.bind(c||this,a))}:function(a,b,c){var e=this.toArray();b=b||e.shift();for(c=c||this;e.length!==0;)b=a.call(c,b,e.shift());return b}}();d.fn.reduceRight=function(){return typeof Array.prototype.reduceRight===
"function"?function(a,b,c){return b?this.toArray().reduceRight(d.bind(c||this,a),b):this.toArray().reduceRight(d.bind(c||this,a))}:function(a,b,c){var e=this.toArray();b=b||e.pop();for(c=c||this;e.length!==0;)b=a.call(c,b,e.pop());return b}}();d.fn.stop=function(){this.next=function(){throw new k;};throw new k;};d.fn.takeWhile=function(a,b){b=b||this;return this.map(function(c){return a.call(b,c)?c:this.stop()})};d.autoCurry=function(a,b){b=b||a.length;return function(){return arguments.length<b?
b-arguments.length>0?d.autoCurry(d.curry.apply(this,[a].concat(g(arguments))),b-arguments.length):d.curry.apply(this,[a].concat(g(arguments))):a.apply(this,arguments)}};d.bind=d.autoCurry(function(a,b){var c=l.call(arguments,2);return function(){return b.apply(a,c.concat(g(arguments)))}});d.chain=function(){var a=0,b=d(arguments).map(s).force();return d.Iterator(function c(){try{return b[a].next()}catch(e){if(i(e,k))if(b[a+1]===r)this.stop();else{a+=1;return c()}else throw e;}})};d.compose=function(){var a=
g(arguments),b=a.length;return function(){var c,e=a[b-1].apply(this,arguments);for(c=b-2;c>-1;c--)e=a[c](e);return e}};d.curry=function(a){var b=l.call(arguments,1);return function(){return a.apply(this,b.concat(g(arguments)))}};d.cycle=function(a){var b=g(a),c=b.length,e=0;return d.Iterator(function(){return b[e++%c]})};d.memoize=function(a){if(typeof JSON==="undefined")return a;var b={};return function(){var c=g(arguments),e=JSON.stringify(c);e in b||(b[e]=a.apply(this,c));return b[e]}};var z=function(a,
b){return a.length===0?a.length===b.length:d.eq(a[0],b[0])&&d.eq(a.slice(1),b.slice(1))},A=function(a,b){var c,e=[];for(c in a){e.push(c);if(a.hasOwnProperty(c)&&!d.eq(a[c],b[c]))return false}for(c in b)if(b.hasOwnProperty(c)&&!d(e).has(c)&&!d.eq(a[c],b[c]))return false;return true},B=function(a,b){return a.source===b.source&&a.global===b.global&&a.ignoreCase===b.ignoreCase&&a.multiline===b.multiline};d.eq=d.autoCurry(function(a,b){var c=h(a);if(c!==h(b))return false;else switch(c){case "[object Array]":return z(a,
b);case "[object Object]":return A(a,b);case "[object RegExp]":return B(a,b);case "[object Date]":return a.valueOf()===b.valueOf();default:return a===b}});var n=function(a,b){var c=h(b),e=h(a),f;if(a===d.___)return true;else if(e==="[object Function]"){if(i(b,a))return true;if(a===String&&c==="[object String]")return true;return a===Number&&c==="[object Number]"?true:b===a}else if(e!==c){if(e==="[object RegExp]"&&c==="[object String]")return a.test(b);return false}else if(e==="[object Array]")return a.length===
0?b.length===0:n(a[0],b[0])&&n(a.slice(1),b.slice(1));else if(e==="[object Object]"){for(f in a)if(a.hasOwnProperty(f)&&!n(a[f],b[f]))return false;return true}else return d.eq(a,b)};d.match=function(){var a=g(arguments);return function(){for(var b=g(arguments),c=0;c<a.length;c+=2)if(n(a[c],b))return h(a[c+1])==="[object Function]"?a[c+1].apply(this,b):a[c+1];throw new TypeError("wu.match: The form did not match any given pattern.");}};d.not=function(a){return function(){return!a.apply(this,arguments)}};
d.partial=function(a){var b=l.call(arguments,1);return b.length<1?a:function(){var c,e=g(b),f=g(arguments);for(c=0;c<e.length;c++)if(e[c]===d.___)e[c]=f.shift();return a.apply(this,e.concat(f))}};var p=function(a){throw new TypeError("wu.js: "+a);},q=function(a,b,c){a=h(a)==="[object Number]"&&!isNaN(a)&&a!==Infinity&&a!==-Infinity?a:p("The `start` parameter to wu.range must be a number.");c=h(c)==="[object Number]"&&!isNaN(c)&&c!==Infinity&&c!==-Infinity?c:p("The `incr` parameter to wu.range must be a number.");
b=h(b)==="[object Number]"&&!isNaN(b)?b:p("The `end` parameter to wu.range must be a number.");a-=c;return d.Iterator(function(){return a+c>=b?this.stop():(a+=c)})};d.range=function(){switch(arguments.length){case 1:return q(0,arguments[0],1);case 2:return q(arguments[0],arguments[1],1);case 3:return q(arguments[0],arguments[1],arguments[2]);default:throw new TypeError("wu.js: Wrong number of arguments passed to wu.range!");}};d.toBool=m;d.toArray=g;d.zip=function(){var a=d(arguments).map(s).force();
return d.Iterator(function(){var b=d(a).dot("next").force();return b.length===a.length?b:this.stop()})};d.zipWith=function(a){var b=l.call(arguments,1);return d.zip.apply(d,b).mapply(a)};d.tang={clan:36}})(function(){return window}());
